<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.pos.basic.dao.AppVersionDao">

    <select id="findByAppType" resultType="com.pos.basic.domain.AppVersion" >
        SELECT
        <include refid="allColumns" />
        FROM app_version av WHERE av.app_type = #{appType}
    </select>

    <sql id="allColumns">
        av.id as id,
        av.app_type as appType,
        av.cur_version as curVersion,
        av.min_version as minVersion,
        av.cur_url as curUrl,
        av.cur_im_key as curImKey,
        av.latest_url as latestUrl,
        av.latest_im_key as latestImKey,
        latest_android_url as latestAndroidUrl,
        latest_android_md5 as latestAndroidMd5,
        web_url as webUrl,
        preweb_url as prewebUrl
    </sql>

</mapper>